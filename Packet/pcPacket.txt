enum Type : uint8
{
	LOGIN_REQUEST = 0
	LOGIN_RESPONSE = 1
    ALLOC_HERO = 2
    RANDOM_HERO_REQUEST = 3
    RANDOM_HERO_RESPONSE = 4
    MATCH_START = 5
    GAME_DATA = 6
    MOVE_HERO = 7
    CHANGE_HERO_STATE = 8
    TURN_END = 9
    UPDATE_TURN = 10
	TYPE_NUM = 11
}

enum HeroClass : uint8
{
    FIGHTER = 0
    MAGICIAN = 1
    ARCHER = 2
    THIEF = 3
    PRIEST = 4
    MONK = 5
    NUM = 6
}

enum SkillType : uint8
{
    FIGHTER_ATTACK
    FIGHTER_CHARGE
    FIGHTER_HARD
    FIGHTER_IRON
    
    MAGICIAN_ICE_ARROW
    MAGICIAN_FIRE_BLAST
    MAGICIAN_THUNDER_STORM
    MAGICIAN_POLYMORPH
    
    ARCHER_ATTACK
    ARCHER_BACK_ATTACK
    ARCHER_PENETRATE_SHOT
    ARCHER_SNIPE
    
    THIEF_ATTACK
    THIEF_BACK_STEP
    THIEF_POISON
    THIEF_TAUNT
    
    PRIEST_HEAL
    PRIEST_ATTACK
    PRIEST_BUFF
    PRIEST_REMOVE_MAGIC
    
    MONK_ATTACK
    MONK_SACRIFICE
    MONK_PRAY
    MONK_KICK
}

packet Header
{
	Type type
    char foo
}

packet LoginRequest : Header
{
	int8 idLength
	int8 passwordLength
	string16 id
	string16 password
}

enum LoginResult : uint8
{
	FAILED = 0
	SUCCESS = 1
}

packet LoginResponse : Header
{
	LoginResult result
}

packet AllocHero : Header
{
    int8 allocNum
    int8 x arr 4
    int8 y arr 4
}

packet RandomHeroRequest : Header
{
}

packet RandomHeroResponse : Header
{
    HeroClass heroClass arr 4
}

packet MatchStart : Header
{
    int8 turn
}

packet GameData : Header
{
    int8 turn
    int8 classNum
    HeroClass classes arr 4
    int8 hp arr 4
    int8 act arr 4
    int8 skillNum arr 4
    SkillType skillType arr 4
    int8 skillLevel arr 4
    int8 x arr 4
    int8 y arr 4
}

packet MoveHero : Header
{
    int8 idx
    int8 x
    int8 y
}

packet ChangeHeroState : Header
{
    int8 idx
    int8 hp
    int8 act
    int8 x
    int8 y
}

packet TurnEnd : Header
{
    int8 turn
}

packet UpdateTurn : Header
{
    int8 nowTurn
}